var TWEEN=TWEEN||(function(){var a=[];return{getAll:function(){return a},removeAll:function(){a=[]},add:function(b){a.push(b)},remove:function(c){var b=a.indexOf(c);if(b!==-1){a.splice(b,1)}},update:function(d,c){if(a.length===0){return false}var b=0;d=d!==undefined?d:TWEEN.now();while(b<a.length){if(a[b].update(d)||c){b++}else{a.splice(b,1)}}return true}}})();(function(){if(this.window===undefined&&this.process!==undefined){TWEEN.now=function(){var a=process.hrtime();return a[0]*1000+a[1]/1000000}}else{if(this.window!==undefined&&window.performance!==undefined&&window.performance.now!==undefined){TWEEN.now=window.performance.now.bind(window.performance)}else{if(Date.now!==undefined){TWEEN.now=Date.now}else{TWEEN.now=function(){return new Date().getTime()}}}}}).bind(this)();TWEEN.Tween=function(u){var g=u;var b={};var i={};var j={};var e=1000;var p=0;var v;var q=false;var l=false;var f=false;var s=0;var t=null;var d=TWEEN.Easing.Linear.None;var k=TWEEN.Interpolation.Linear;var m=[];var n=null;var o=false;var c=null;var r=null;var h=null;for(var a in u){b[a]=parseFloat(u[a],10)}this.to=function(w,x){if(x!==undefined){e=x}i=w;return this};this.start=function(x){TWEEN.add(this);l=true;o=false;t=x!==undefined?x:TWEEN.now();t+=s;for(var w in i){if(i[w] instanceof Array){if(i[w].length===0){continue}i[w]=[g[w]].concat(i[w])}if(g[w]===undefined){continue}b[w]=g[w];if((b[w] instanceof Array)===false){b[w]*=1}j[w]=b[w]||0}return this};this.stop=function(){if(!l){return this}TWEEN.remove(this);l=false;if(h!==null){h.call(g,g)}this.stopChainedTweens();return this};this.end=function(){this.update(t+e);return this};this.stopChainedTweens=function(){for(var x=0,w=m.length;x<w;x++){m[x].stop()}};this.delay=function(w){s=w;return this};this.repeat=function(w){p=w;return this};this.repeatDelay=function(w){v=w;return this};this.yoyo=function(w){q=w;return this};this.easing=function(w){d=w;return this};this.interpolation=function(w){k=w;return this};this.chain=function(){m=arguments;return this};this.onStart=function(w){n=w;return this};this.onUpdate=function(w){c=w;return this};this.onComplete=function(w){r=w;return this};this.onStop=function(w){h=w;return this};this.update=function(x){var D;var E;var C;if(x<t){return true}if(o===false){if(n!==null){n.call(g,g)}o=true}E=(x-t)/e;E=E>1?1:E;C=d(E);for(D in i){if(b[D]===undefined){continue}var w=b[D]||0;var y=i[D];if(y instanceof Array){g[D]=k(y,C)}else{if(typeof(y)==="string"){if(y.charAt(0)==="+"||y.charAt(0)==="-"){y=w+parseFloat(y,10)}else{y=parseFloat(y,10)}}if(typeof(y)==="number"){g[D]=w+(y-w)*C}}}if(c!==null){c.call(g,C)}if(E===1){if(p>0){if(isFinite(p)){p--}for(D in j){if(typeof(i[D])==="string"){j[D]=j[D]+parseFloat(i[D],10)}if(q){var z=j[D];j[D]=i[D];i[D]=z}b[D]=j[D]}if(q){f=!f}if(v!==undefined){t=x+v}else{t=x+s}return true}else{if(r!==null){r.call(g,g)}for(var A=0,B=m.length;A<B;A++){m[A].start(t+e)}return false}}return true}};TWEEN.Easing={Linear:{None:function(a){return a}},Quadratic:{In:function(a){return a*a},Out:function(a){return a*(2-a)},InOut:function(a){if((a*=2)<1){return 0.5*a*a}return -0.5*(--a*(a-2)-1)}},Cubic:{In:function(a){return a*a*a},Out:function(a){return --a*a*a+1},InOut:function(a){if((a*=2)<1){return 0.5*a*a*a}return 0.5*((a-=2)*a*a+2)}},Quartic:{In:function(a){return a*a*a*a},Out:function(a){return 1-(--a*a*a*a)},InOut:function(a){if((a*=2)<1){return 0.5*a*a*a*a}return -0.5*((a-=2)*a*a*a-2)}},Quintic:{In:function(a){return a*a*a*a*a},Out:function(a){return --a*a*a*a*a+1},InOut:function(a){if((a*=2)<1){return 0.5*a*a*a*a*a}return 0.5*((a-=2)*a*a*a*a+2)}},Sinusoidal:{In:function(a){return 1-Math.cos(a*Math.PI/2)},Out:function(a){return Math.sin(a*Math.PI/2)},InOut:function(a){return 0.5*(1-Math.cos(Math.PI*a))}},Exponential:{In:function(a){return a===0?0:Math.pow(1024,a-1)},Out:function(a){return a===1?1:1-Math.pow(2,-10*a)},InOut:function(a){if(a===0){return 0}if(a===1){return 1}if((a*=2)<1){return 0.5*Math.pow(1024,a-1)}return 0.5*(-Math.pow(2,-10*(a-1))+2)}},Circular:{In:function(a){return 1-Math.sqrt(1-a*a)},Out:function(a){return Math.sqrt(1-(--a*a))},InOut:function(a){if((a*=2)<1){return -0.5*(Math.sqrt(1-a*a)-1)}return 0.5*(Math.sqrt(1-(a-=2)*a)+1)}},Elastic:{In:function(a){if(a===0){return 0}if(a===1){return 1}return -Math.pow(2,10*(a-1))*Math.sin((a-1.1)*5*Math.PI)},Out:function(a){if(a===0){return 0}if(a===1){return 1}return Math.pow(2,-10*a)*Math.sin((a-0.1)*5*Math.PI)+1},InOut:function(a){if(a===0){return 0}if(a===1){return 1}a*=2;if(a<1){return -0.5*Math.pow(2,10*(a-1))*Math.sin((a-1.1)*5*Math.PI)}return 0.5*Math.pow(2,-10*(a-1))*Math.sin((a-1.1)*5*Math.PI)+1}},Back:{In:function(a){var b=1.70158;return a*a*((b+1)*a-b)},Out:function(a){var b=1.70158;return --a*a*((b+1)*a+b)+1},InOut:function(a){var b=1.70158*1.525;if((a*=2)<1){return 0.5*(a*a*((b+1)*a-b))}return 0.5*((a-=2)*a*((b+1)*a+b)+2)}},Bounce:{In:function(a){return 1-TWEEN.Easing.Bounce.Out(1-a)},Out:function(a){if(a<(1/2.75)){return 7.5625*a*a}else{if(a<(2/2.75)){return 7.5625*(a-=(1.5/2.75))*a+0.75}else{if(a<(2.5/2.75)){return 7.5625*(a-=(2.25/2.75))*a+0.9375}else{return 7.5625*(a-=(2.625/2.75))*a+0.984375}}}},InOut:function(a){if(a<0.5){return TWEEN.Easing.Bounce.In(a*2)*0.5}return TWEEN.Easing.Bounce.Out(a*2-1)*0.5+0.5}}};TWEEN.Interpolation={Linear:function(c,b){var a=c.length-1;var g=a*b;var d=Math.floor(g);var e=TWEEN.Interpolation.Utils.Linear;if(b<0){return e(c[0],c[1],g)}if(b>1){return e(c[a],c[a-1],a-g)}return e(c[d],c[d+1>a?a:d+1],g-d)},Bezier:function(d,c){var a=0;var h=d.length-1;var f=Math.pow;var g=TWEEN.Interpolation.Utils.Bernstein;for(var e=0;e<=h;e++){a+=f(1-c,h-e)*f(c,e)*d[e]*g(h,e)}return a},CatmullRom:function(c,b){var a=c.length-1;var g=a*b;var d=Math.floor(g);var e=TWEEN.Interpolation.Utils.CatmullRom;if(c[0]===c[a]){if(b<0){d=Math.floor(g=a*(1+b))}return e(c[(d-1+a)%a],c[d],c[(d+1)%a],c[(d+2)%a],g-d)}else{if(b<0){return c[0]-(e(c[0],c[0],c[1],c[1],-g)-c[0])}if(b>1){return c[a]-(e(c[a],c[a],c[a-1],c[a-1],g-a)-c[a])}return e(c[d?d-1:0],c[d],c[a<d+1?a:d+1],c[a<d+2?a:d+2],g-d)}},Utils:{Linear:function(c,b,a){return(b-c)*a+c},Bernstein:function(c,a){var b=TWEEN.Interpolation.Utils.Factorial;return b(c)/b(a)/b(c-a)},Factorial:(function(){var b=[1];return function(d){var c=1;if(b[d]){return b[d]}for(var a=d;a>1;a--){c*=a}b[d]=c;return c}})(),CatmullRom:function(h,g,e,d,i){var f=(e-h)*0.5;var c=(d-g)*0.5;var b=i*i;var a=i*b;return(2*g-2*e+f+c)*a+(-3*g+3*e-2*f-c)*b+f*i+g}}};(function(a){if(typeof define==="function"&&define.amd){define([],function(){return TWEEN})}else{if(typeof module!=="undefined"&&typeof exports==="object"){module.exports=TWEEN}else{if(a!==undefined){a.TWEEN=TWEEN}}}})(this);