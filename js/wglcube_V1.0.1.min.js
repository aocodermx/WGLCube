var WGL=function(e){return e.Core=function(e){function t(e){if(u=e,d.size=u.getAttribute("data-size"),"undefined"==typeof d.size)return console.log("data-size parameter needed in order to render cube."),0;var t=u.getAttribute("data-show");null!==t&&(h=t.split(","));var a=document.createElement("div");a.className="preview",a.innerHTML="<div class='square s1'></div><div class='square s2'></div><div class='square s3'></div><div class='square s4'></div>";var s=document.createElement("div");s.className="cube",u.appendChild(a),u.appendChild(s)}function a(){v=u.getElementsByClassName("cube")[0],C=new THREE.Scene,z=window.WebGLRenderingContext?new THREE.WebGLRenderer({antialias:!0,preserveDrawingBuffer:!0}):new THREE.CanvasRenderer,B=new THREE.PerspectiveCamera(45,v.offsetWidth/v.offsetHeight,.1,1e3),L=new THREE.OrbitControls(B,z.domElement),console.log(window.WebGLRenderingContext),L.enablePan=!1,z.setClearColor(14211288,1),z.setSize(v.offsetWidth,v.offsetHeight),v.appendChild(z.domElement),s(),v.addEventListener("resize",c),B.position.addScalar(1.4*d.size),l(z,B,L)}function s(){for(var e=0,t=E.length;e<t;e++)C.remove(E[e]);E=[];for(var a=new THREE.BoxGeometry(.98,.98,.98),s=new THREE.MeshFaceMaterial([new THREE.MeshBasicMaterial({color:16737792}),new THREE.MeshBasicMaterial({color:16711680}),new THREE.MeshBasicMaterial({color:65280}),new THREE.MeshBasicMaterial({color:255}),new THREE.MeshBasicMaterial({color:16777215}),new THREE.MeshBasicMaterial({color:16776960})]),n=new THREE.MeshFaceMaterial([new THREE.MeshBasicMaterial({color:8684676}),new THREE.MeshBasicMaterial({color:8684676}),new THREE.MeshBasicMaterial({color:8684676}),new THREE.MeshBasicMaterial({color:8684676}),new THREE.MeshBasicMaterial({color:8684676}),new THREE.MeshBasicMaterial({color:8684676})]),i=-d.size/2+.5;i<d.size/2;i++)for(var r=-d.size/2+.5;r<d.size/2;r++)for(var o=-d.size/2+.5;o<d.size/2;o++){var l=null;l=0!==h.length&&h.indexOf(E.length.toString())<0?new THREE.Mesh(a,n):new THREE.Mesh(a,s),l.position.set(r,o,i),E.push(l),C.add(l)}}function n(e,t,a){var s=a-d.size/2+.5-1;C.add(e);for(var n=0,i=E.length;n<i;n++)E[n].getWorldPosition()[t]===s&&THREE.SceneUtils.attach(E[n],C,e)}function i(e,t,a){for(var s=a-d.size/2+.5-1,n=0,i=E.length;n<i;n++)E[n].getWorldPosition()[t]===s&&THREE.SceneUtils.detach(E[n],e,C);C.remove(e)}function r(){if(TWEEN.update(),m){switch(f=new THREE.Object3D,n(f,T,p),w=new TWEEN.Tween(f.rotation),T){case"x":w.to({x:R},d.STEP_TIME*H);break;case"y":w.to({y:R},d.STEP_TIME*H);break;case"z":w.to({z:R},d.STEP_TIME*H)}w.onStop(function(){f.updateMatrixWorld(),i(f,T,p),b=!1,s(C)}),w.onComplete(function(){f.updateMatrixWorld(),i(f,T,p),b=!1,g()}),m=!1,b=!0,w.start()}}function o(e,t,a){switch(f=new THREE.Object3D,n(f,e,t),e){case"x":f.rotation.x+=a;break;case"y":f.rotation.y+=a;break;case"z":f.rotation.z+=a}f.updateMatrixWorld(),i(f,e,t)}function l(e,t,a){M=requestAnimationFrame(function(){l(e,t,a)}),e.render(C,t),r(),a.update()}function c(){var e=d.CubeContainer.offsetWidth,t=d.CubeContainer.offsetHeight;z.setSize(e,t),B.aspect=e/t,B.updateProjectionMatrix()}var d=this;d.size=null,d.STEP_TIME=750;var u=null,E=[],h=[],f=null,v=null,w=null,M=null,m=!1,T=null,p=null,R=null,H=null,b=null,g=null,C=null,z=null,B=null,L=null;this.to_interactive_mode=function(){var e=u.getElementsByClassName("preview")[0];e.classList.remove("util-show"),e.classList.add("util-hide");var t=u.getElementsByClassName("cube")[0];t.classList.remove("util-hide"),t.classList.add("util-show"),a()},this.to_preview_mode=function(){var e=u.getElementsByClassName("preview")[0];e.classList.remove("util-hide"),e.classList.add("util-show");var t=u.getElementsByClassName("cube")[0];if(t.classList.remove("util-show"),t.classList.add("util-hide"),cancelAnimationFrame(M),null!==z)for(z.forceContextLoss(),z=null,B=null,L=null;v.lastChild;)v.removeChild(v.lastChild)},this.Reset=function(){null!==w&&b?w.stop():s(C)},this.Move=function(e,t,a,s){if(b)return void console.log("Animation not finished, try again later.");t&&a(),e+=" ";for(var n=0,i="",r="",l=0,c=1,u=2,E=3,h=4,f=5;"undefined"!=typeof i;)for(var v="",w=1,M=1,C=1,z=l;z!==f;){switch(i=e[n],z){case l:/\s/g.test(i)||(z=c,n--),"undefined"==typeof i&&(z=f);break;case c:var B=parseInt(i);isNaN(B)?(z=u,n--,""!==r&&(w=parseInt(r),r="")):r+=i;break;case u:switch(i){case"R":w=d.size-w+1,M*=-1;case"L":v="x";break;case"U":w=d.size-w+1,M*=-1;case"D":v="y";break;case"F":w=d.size-w+1,M*=-1;case"B":v="z";break;default:return console.log("FACE to move is incorrect"),-1}z=E;break;case E:var L=parseInt(i);isNaN(L)?(z=h,n--,""!==r&&(C=parseInt(r),r="")):r+=i;break;case h:"'"===i?M*=-1:n--,t===!0?(T=v,p=w,R=C*M*90*(Math.PI/180),H=C,m=!0,g=s):o(v,w,C*M*90*(Math.PI/180)),z=f;break;default:return console.log("Fatal error, state unknown."),-1}n++}},t(e)},e}(WGL||{});
function r(e){/in/.test(document.readyState)?setTimeout("r("+e+")",9):e()}var WGL=function(e){return e.Manager=function(e){function n(){for(var e=[],n=document.getElementsByClassName("wglcube_player"),t=0;t<n.length;t++)e.push(new WGL.Player(n[t]));window.addEventListener("scroll",function(t){for(var r=0;r<n.length;r++)e[r].isPreview()||e[r].isScrolledIntoView()})}n(e)},e}(WGL||{});r(function(){new WGL.Manager});
var WGL=function(e){return e.Player=function(e){function t(e){c=e,o=new WGL.Core(c),u=c.getAttribute("data-init"),m=c.getAttribute("data-steps").split(" "),null===m&&console.log("data-steps needed in order to display an algorithm execution.");var t=document.createElement("div"),d=document.createElement("div"),r=document.createElement("div"),p=document.createElement("button"),v=document.createElement("button"),f=document.createElement("button"),L=document.createElement("button"),h=document.createElement("button");t.className="steps-container",d.className="controls",r.className="hint",p.className="icon-previous",v.className="icon-stop",f.className="play-pause icon-play",L.className="icon-next",h.className="icon-eject";for(var y=0;y<m.length;y++){var E=document.createElement("span");E.innerHTML=m[y],E.className="step_"+y,t.appendChild(E)}r.innerHTML="Click to load 3D",p.addEventListener("click",n),v.addEventListener("click",s),f.addEventListener("click",i),L.addEventListener("click",a),h.addEventListener("click",l.to_preview_mode),c.addEventListener("click",l.to_interactive_mode),d.appendChild(p),d.appendChild(v),d.appendChild(f),d.appendChild(L),d.appendChild(h),c.appendChild(t),c.appendChild(r),c.appendChild(d);for(var g=100;t.scrollHeight!=t.offsetHeight&&(g-=1,t.style.fontSize=g+"px",!(g<.2)););}function n(){p&&(r--,p=!1);var e=m[r].trim();e.indexOf("'")!==-1?e.replace("'",""):e+="'";var t=c.getElementsByClassName("step_"+r)[0];o.Move(e,!0,function(){"undefined"!=typeof t&&t.classList.add("current-step")},function(){r--,"undefined"!=typeof t&&t.classList.remove("current-step")})}function s(){var e=c.getElementsByClassName("step_"+r)[0];"undefined"!=typeof e&&e.classList.remove("current-step"),r=0,p=!0,v=!1,o.Reset(),o.Move(u,!1);var t=c.getElementsByClassName("play-pause")[0];t.classList.remove("icon-pause"),t.classList.add("icon-play")}function i(e){if("undefined"!=typeof e){v=!v;var t=c.getElementsByClassName("play-pause")[0];v?(t.classList.remove("icon-play"),t.classList.add("icon-pause")):(t.classList.remove("icon-pause"),t.classList.add("icon-play"))}if(v){if(r>=m.length)return void s();var n=c.getElementsByClassName("step_"+r)[0];o.Move(m[r],!0,function(){"undefined"!=typeof n&&n.classList.add("current-step")},function(){r++,"undefined"!=typeof n&&n.classList.remove("current-step"),i()})}}function a(){if(r>=m.length)return void s();p||(r++,p=!0);var e=c.getElementsByClassName("step_"+r)[0];o.Move(m[r],!0,function(){"undefined"!=typeof e&&e.classList.add("current-step")},function(){r++,"undefined"!=typeof e&&e.classList.remove("current-step")})}var l=this,o=null,c=null,d=!0,r=0,u=null,m=null,p=!0,v=!1;this.to_interactive_mode=function(e){d=!1;var t=c.getElementsByClassName("controls")[0];t.classList.remove("util-hide"),t.classList.add("util-show");var n=c.getElementsByClassName("hint")[0];n.classList.remove("util-show"),n.classList.add("util-hide"),c.classList.remove("util-cursor-hand"),c.classList.add("util-cursor-none"),o.to_interactive_mode(),o.Move(u,!1,null),s(),c.removeEventListener("click",l.to_interactive_mode)},this.to_preview_mode=function(e){d=!0;var t=c.getElementsByClassName("controls")[0];t.classList.remove("util-show"),t.classList.add("util-hide");var n=c.getElementsByClassName("hint")[0];n.classList.remove("util-hide"),n.classList.add("util-show"),c.classList.remove("util-cursor-none"),c.classList.add("util-cursor-hand"),o.to_preview_mode(),c.addEventListener("click",l.to_interactive_mode),"undefined"!=typeof e&&(e.cancelBubble=!0)},this.isPreview=function(){return d},this.isScrolledIntoView=function(){var e=c.getBoundingClientRect().top,t=c.getBoundingClientRect().bottom,n=t>=0&&e<=window.innerHeight;return n||l.to_preview_mode(),n},t(e)},e}(WGL||{});
!function(i,e){var a=i.createElement("style");if(i.getElementsByTagName("head")[0].appendChild(a),a.styleSheet)a.styleSheet.disabled||(a.styleSheet.cssText=e);else try{a.innerHTML=e}catch(i){a.innerText=e}}(document,".preview{position:relative;width:100%;height:75%}.square{position:absolute;width:40%;height:40%}.s1{top:10%;left:10%;background-color:red}.s2{top:10%;right:10%;background-color:blue}.s3{bottom:10%;left:10%;background-color:green}.s4{bottom:10%;right:10%;background-color:yellow}.wglcube_player{overflow:hidden;text-align:center;background:#d8d8d8;cursor:pointer;cursor:hand}.cube{display:none;width:100%;height:75%;bottom:25%;top:0}.steps-container{width:100%;height:15%;bottom:15%;overflow:hidden;padding-left:2em;padding-right:2em}.steps-container span{font-size:10em;margin-left:2px;margin-right:2px;float:left}.hint{width:100%;height:15%;font-size:1.2em;font-weight:bold}.controls{display:none;width:100%;height:10%;bottom:0}.controls button{padding:0;border:0;height:100%;width:18%;font-size:1em;background-repeat:no-repeat;background-size:contain}.current-step{font-weight:bold}.icon-previous{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj48cGF0aCBmaWxsPSIjNDQ0IiBkPSJNOCAyOFY0aDR2MTFMMjIgNXYyMkwxMiAxN3YxMXoiLz48L3N2Zz4=)}.icon-stop{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj48cGF0aCBmaWxsPSIjNDQ0IiBkPSJNNCA0aDI0djI0SDR6Ii8+PC9zdmc+)}.icon-play{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj48cGF0aCBmaWxsPSIjNDQ0IiBkPSJNNiA0bDIwIDEyTDYgMjh6Ii8+PC9zdmc+)}.icon-pause{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj48cGF0aCBmaWxsPSIjNDQ0IiBkPSJNNCA0aDEwdjI0SDR6bTE0IDBoMTB2MjRIMTh6Ii8+PC9zdmc+)}.icon-next{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj48cGF0aCBmaWxsPSIjNDQ0IiBkPSJNMjQgNHYyNGgtNFYxN0wxMCAyN1Y1bDEwIDEwVjR6Ii8+PC9zdmc+)}.icon-eject{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj48cGF0aCBmaWxsPSIjNDQ0IiBkPSJNMCAyNGgzMnY0SDB6TTE2IDRsMTYgMTZIMHoiLz48L3N2Zz4=)}.util-show{display:block}.util-hide{display:none}.util-cursor-hand{cursor:pointer;cursor:hand}.util-cursor-none{cursor:inherit}");